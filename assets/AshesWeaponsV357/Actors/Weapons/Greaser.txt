ACTOR Greaserloaded: Ammo
{
 Inventory.MaxAmount 48
 Ammo.BackPackMaxAmount 48
 +IGNORESKILL
 }
 ACTOR SMGSelector : actor replaces chaingun
{
States
	{
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(GetCVar("SMGChoice") == 0, "Weapon1")
		TNT1 A 0 A_JumpIf(GetCVar("SMGChoice") == 1, "Weapon2")
		TNT1 A 0 A_JumpIf(GetCVar("SMGChoice") == 2, "Weapon3")
		Stop
    Weapon1:
		TNT1 A 0 A_jump(96,"Weapon3")
	Weapon2:
		TNT1 A 0 A_SpawnItem("IngramSpawn")
		Stop
	Weapon3:
		TNT1 A 0 A_SpawnItem("GreaserSpawn")
		Stop
	}
}
ACTOR SMGAmmoSelector : actor replaces clipbox
{
States
	{
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(GetCVar("SMGChoice") == 0, "Weapon1")
		TNT1 A 0 A_JumpIf(GetCVar("SMGChoice") == 1, "Weapon2")
		TNT1 A 0 A_JumpIf(GetCVar("SMGChoice") == 2, "Weapon3")
		Stop
    Weapon1:
		TNT1 A 0 A_jump(96,"Weapon3")
	Weapon2:
		TNT1 A 0 A_SpawnItem("NineMilAmmo")
		Stop
	Weapon3:
		TNT1 A 0 A_SpawnItem("fortyfiveBox")
		Stop
	}
}
ACTOR GreaserSpawn : CustomInventory
{
	Inventory.Amount 0
	scale 0.6
	Tag "Greaser"
	Inventory.Icon "GRGIA0"
	Inventory.PickupMessage "Got the Greaser SMG."
	Inventory.PickupSound "items/gunspickup"
	States
	{
	Spawn:
		GRGN A 10
		GRGN A 1 bright
		loop
	Pickup:
	    TNT1 A 0 A_JumpIfInventory("Greaser3", 1, 4) //Skips giving you the normal mac10 if you have the upgrade
		TNT1 A 0 A_JumpIfInventory("Greaser2", 1, 3) //Skips giving you the normal mac10 if you have the upgrade
		TNT1 A 0 A_GiveInventory("Greaser")
		TNT1 A 0 A_Jump(256, 2)
		TNT1 A 0 A_GiveInventory("fortyfiveammo", 16)
		TNT1 A 0
		Stop
	}
}
ACTOR GreaserBuild2 : CustomInventory
{
	Inventory.Amount 0
	scale 0.7
	Inventory.Icon "GRGIA0"
	+DROPPED
	States
	{
	Spawn:
		GRGN A 10
		loop
	Pickup:
		TNT1 A 0 A_GiveInventory("Greaser2")
		TNT1 A 0 A_takeInventory("Greaser")
		TNT1 A 0 A_PlaySound("special/workbench",CHAN_ITEM)
		TNT1 A 0
		Stop
	}
}
ACTOR GreaserBuild3 : CustomInventory
{
	Inventory.Amount 0
	scale 0.7
	Inventory.Icon "GRGIA0"
	+DROPPED
	States
	{
	Spawn:
		GRGN A 10
		loop
	Pickup:
		TNT1 A 0 A_GiveInventory("Greaser3")
		TNT1 A 0 A_takeInventory("Greaser")
		TNT1 A 0 A_takeInventory("Greaser2")
		TNT1 A 0 A_PlaySound("special/workbench",CHAN_ITEM)
		TNT1 A 0
		Stop
	}
}
 actor Greaser: Weapon
{
 Weapon.SelectionOrder 700
 Weapon.AmmoUse1 1
 weapon.AmmoUse2 1
 Weapon.BobStyle Alpha
 Weapon.BobSpeed 1.5
 Weapon.BobRangeX .2
 Weapon.BobRangeY .5
 Weapon.AmmoGive2 16
 Weapon.AmmoType1 "GreaserLoaded"
 Weapon.AmmoType2 "fortyfiveammo"
 Inventory.Pickupmessage "Got the Greaser SMG!"
 Tag "Greaser"
 Inventory.PickupSound "items/gunspickup"
 Obituary "%o was rubbed out by %k."
 Weapon.SlotNumber 4
 weapon.upsound "weapons/GRGRamup"
 Inventory.Icon "GRGIA0"
 +AMMO_CHECKBOTH
 +NOALERT
 scale 0.7
 States
 {
 Ready:
  TNT1 A 0 a_JumpIfInventory("lightlit",1,"Readylamp")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"LoadedReady")
  GRGG B 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 LoadedReady:
  GRGG A 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 ReadyLamp:
     GRGG I 0 a_JumpIfInventory("GreaserLoaded",1,"readylamploaded")
     GRGG I 0 a_JumpIfInventory("batteries",1,2)
	 GRGG I 0 a_jump(256,"Unlight")
	 GRGG I 0 a_light2
	 GRGG I 0 A_jump(240,2)
     GRGG I 0 A_takeinventory("batteries",1,TIF_NOTAKEINFINITE)
     GRGG J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     GRGG L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     GRGG K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 ReadyLampLoaded:
     GRGG I 0 a_JumpIfInventory("batteries",1,2)
	 GRGG I 0 a_jump(256,"Unlight")
	 GRGG I 0 a_light2
	 GRGG I 0 A_jump(240,2)
     GRGG I 0 A_takeinventory("batteries",1,TIF_NOTAKEINFINITE)
     GRGO J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     GRGO K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     GRGO L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 Deselect:
  "----" A 0 A_LIGHT0
  "----" A 0 A_takeinventory("Lightlit",1)
  "----" A 0 A_lower
  "----" A 1 A_Lower
  loop
 Select:
   TNT1 A 0 A_takeInventory("flashlit")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"Loadedselect")
  GRGG B 1 A_Raise
  GRGG B 0 A_Raise
  Loop
 LoadedSelect:
  GRGG A 0 a_JumpIfInventory("GreaserLoaded",31,"CheetReset")
  GRGG A 1 A_Raise
  GRGG A 0 A_Raise
  Loop
 CheetReset:
    GRGG A 1 A_Raise
	GRGG A 0 A_takeinventory("GreaserLoaded",48)
	GRGG A 0 A_giveinventory("GreaserLoaded",30)
	GRGG A 0 A_Raise
	goto loadedselect
 Fire:
   TNT1 A 0 a_JumpIfInventory("lightlit",1,"FireLamp")
   TNT1 A 0 a_JumpIfInventory("Greaserloaded",1,"FireReal")
   Goto Reload
  Firelamp:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"FireLampReal")
  Goto Reload
 Firereal:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  GRGG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1.5,1.5,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGF A 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGF A 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  GRGF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGG B 1 a_refire("empty")
  GRGG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  GRGG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire2")
  GRGG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire2")
  GRGG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire2")
  goto ready
 Fire2:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(2,2,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGF B 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGF B 0 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  GRGF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGG B 1 a_refire("empty")
  GRGG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  GRGG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire3")
  GRGG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire3")
  GRGG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("fire3")
  goto ready
 Fire3:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(3,3,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGF C 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGF C 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  GRGF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGG B 1 a_refire("empty")
  GRGG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  GRGG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firereal")
  GRGG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firereal")
  GRGG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firereal")
  goto ready
  Firelampreal:
  GLKL A 0 A_gunflash("lampFlash")
  GRGG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(2,3,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGO M 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGO M 1 BRIGHT  A_SetPitch(Pitch-3)
  GRGO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGO P 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGO P 1 a_refire("emptylamp")
  GRGO Q 1 A_SetPitch(Pitch+1) 
  GRGO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp2")
  GRGO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp2")
  GRGO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp2")
  goto ready
   Firelamp2:
  GLKL A 0 A_gunflash("lampFlash")
  GRGG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(3,3,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGO N 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGO N 1 BRIGHT  A_SetPitch(Pitch-3)
  GRGO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGO P 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGO P 1 a_refire("emptylamp")
  GRGO Q 1 A_SetPitch(Pitch+1) 
  GRGO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp3")
  GRGO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp3")
  GRGO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelamp3")
  goto ready
   Firelamp3:
  GLKL A 0 A_gunflash("lampFlash")
  GRGG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(3,3,-1,14,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  GRGO O 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  GRGO O 1 BRIGHT  A_SetPitch(Pitch-3)
  GRGO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  GRGO P 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  GRGO P 1 a_refire("emptylamp")
  GRGO Q 1 A_SetPitch(Pitch+1) 
  GRGO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelampreal")
  GRGO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelampreal")
  GRGO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  GRGG B 0 A_refire("firelampreal")
  goto ready
empty:
  GRGG B 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
  GRGG B 0  a_refire("empty")
  goto ready
emptylamp:
  GRGO P 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
   GRGO A 0  a_refire("fire")
  goto ready
  Reload:
        TNT1 A 0 a_JumpIfInventory("lightlit",1,"ReloadLamp")
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Workempty")
		GRGG A 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",30,"Ready")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Work1")
        Goto Ready
 Reloadlamp:
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"chamberlamp")
		GRGO L 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",30,"Readylamp")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"droplamp")
        Goto Ready
droplamp:
        GRGO I 1 a_playsound("weapons/lampclickoff")
	    GRGO H 2 a_light0
	    GRGO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    GRGO FEDCBA 1 A_takeinventory("lightlit",1)
		GRGR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		GRGR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)	
goto reloadloop
chamberlamp:
        GRGO I 1 a_playsound("weapons/lampclickoff")
	    GRGO H 2 a_light0
	    GRGO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    GRGO FEDCBA 1 A_takeinventory("lightlit",1)
		GRGE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		GRGE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Work1:
	    GRGR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		GRGR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)		
	ReloadLoop:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",30,"ReloadDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"Reloadloop")
        Goto ReloadDone
    Workempty:
	    GRGE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		GRGE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Loopempty:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",30,"emptyDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"loopempty")
        Goto emptyDone
	ReloadDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagIn", CHAN_ITEM)
		GRGR LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR MMQRST 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	EmptyDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagin", CHAN_ITEM)
		GRGE LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGE MMQRS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR UVW 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 0 A_PlaySound("weapons/GreaserCock", CHAN_ITEM)
		GRGR WXYZ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		GRGR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	   Altfire:
         TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"AltFireReal")
         Goto Reload
       AltfireReal:
        GRGS ABC 2  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		GRGS C 1 A_REfire("altfire1")
		GRGS CBA 2 A_weaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	  Altfire1:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        GRGS A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,0,0)
        TNT1 A 0 A_FireBullets(1,1,-1,16,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        GRGS D 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        GRGS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        GRGS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        GRGS A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        GRGS A 0 A_checkreload
        GRGS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGS B 0 A_refire("altfire2")
        GRGS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire2:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1,-1,16,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        GRGS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        GRGS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        GRGS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        GRGS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGG B 0 A_refire("altfire3")
        GRGS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire3:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(2,2,-1,16,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        GRGS F 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        GRGS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        GRGS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        GRGS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGG B 0 A_refire("altfire4")
        GRGS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	 Altfire4:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,2,-1,16,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        GRGS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        GRGS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        GRGS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        GRGS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        GRGG B 0 A_refire("altfire1")
        GRGS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	emptyAlt:
        GRGS G 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        GRGG A 0  a_refire("emptyAlt")
		GRGS GKJ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        goto ready
	Zoom:
	TNT1 A 0 a_JumpIfInventory("lightlit",1,"unlight")
	GRGO A 2 
	GRGO BCD 2 
	GRGO E 2 a_playsound("weapons/revolverup")
	GRGO F 2 A_giveinventory("lightlit",1) 
	GRGO GHI 1 a_playsound("weapons/lampclickon")
    goto readylamp
	unlight:
	GRGO I 1 a_playsound("weapons/lampclickoff")
	GRGO HG 2 a_light0
	GRGO F 2 a_playsound("weapons/revolverup")
	GRGO EDCB 1 
	GRGO A 1 A_takeinventory("lightlit",1)
    goto loadedready
	User1:
	    TNT1 A 0 a_JumpIfInventory("lightlit",1,"AltUser1")
	    GRGR NOP 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		GRGR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	AltUser1:
	    GRGO STUV 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		GRGO VUTS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
 lampFlash:
        TNT1 A 0
		stop
 Spawn:
        GRGN A 10
		GRGN A 1 bright
		loop
 }
 } 
 actor Greaser2: Greaser
{
 Inventory.Pickupmessage "Got the Greasy Greaser!"
 Tag "Greasy Greaser"
 Obituary "%o was executed by %k."
 Inventory.Icon "MPI2A0"
 scale 0.6
 +CHEATNOTWEAPON
  States
 {
 Ready:
  TNT1 A 0 a_JumpIfInventory("lightlit",1,"Readylamp")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"LoadedReady")
  G2GG B 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 LoadedReady:
  G2GG A 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 ReadyLamp:
     G2GG I 0 a_JumpIfInventory("GreaserLoaded",1,"readylamploaded")
     G2GG I 0 a_JumpIfInventory("batteries",1,2)
	 G2GG I 0 a_jump(256,"Unlight")
	 G2GG I 0 a_light2
     G2GG J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G2GG L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G2GG K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 ReadyLampLoaded:
     G2GG I 0 a_JumpIfInventory("batteries",1,2)
	 G2GG I 0 a_jump(256,"Unlight")
	 G2GG I 0 a_light2
     G2GO J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G2GO K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G2GO L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 Deselect:
  "----" A 0 A_LIGHT0
  "----" A 0 A_takeinventory("Lightlit",1)
  "----" A 0 A_lower
  "----" A 1 A_Lower
  loop
 Select:
   TNT1 A 0 A_takeInventory("greaser")
   TNT1 A 0 A_takeInventory("flashlit")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"Loadedselect")
  G2GG B 1 A_Raise
  G2GG B 0 A_Raise
  Loop
 LoadedSelect:
  G2GG A 0 a_JumpIfInventory("GreaserLoaded",31,"CheetReset")
  G2GG A 1 A_Raise
  G2GG A 0 A_Raise
  Loop
 CheetReset:
    G2GG A 1 A_Raise
	G2GG A 0 A_takeinventory("GreaserLoaded",48)
	G2GG A 0 A_giveinventory("GreaserLoaded",30)
	G2GG A 0 A_Raise
	goto loadedselect
 Fire:
   TNT1 A 0 a_JumpIfInventory("lightlit",1,"FireLamp")
   TNT1 A 0 a_JumpIfInventory("Greaserloaded",1,"FireReal")
   Goto Reload
  Firelamp:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"FireLampReal")
  Goto Reload
 Firereal:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  G2GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GF A 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GF A 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G2GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  G2GG B 1 a_refire("empty")
  G2GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G2GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire2")
  G2GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire2")
  G2GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire2")
  goto ready
 Fire2:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GF B 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GF B 0 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G2GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  G2GG B 1 a_refire("empty")
  G2GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G2GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire3")
  G2GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire3")
  G2GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("fire3")
  goto ready
 Fire3:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GF C 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GF C 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G2GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GG B 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G2GG B 1 a_refire("empty")
  G2GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G2GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firereal")
  G2GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firereal")
  G2GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firereal")
  goto ready
  Firelampreal:
  GLKL A 0 A_gunflash("lampFlash")
  G2GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1,2,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GO M 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GO M 1 BRIGHT  A_SetPitch(Pitch-3)
  G2GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G2GO P 1 a_refire("emptylamp")
  G2GO Q 1 A_SetPitch(Pitch+1) 
  G2GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp2")
  G2GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp2")
  G2GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp2")
  goto ready
   Firelamp2:
  GLKL A 0 A_gunflash("lampFlash")
  G2GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1.5,1.5,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GO N 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GO N 1 BRIGHT  A_SetPitch(Pitch-3)
  G2GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G2GO P 1 a_refire("emptylamp")
  G2GO Q 1 A_SetPitch(Pitch+1) 
  G2GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp3")
  G2GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp3")
  G2GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelamp3")
  goto ready
   Firelamp3:
  GLKL A 0 A_gunflash("lampFlash")
  G2GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(2,2,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G2GO O 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G2GO O 1 BRIGHT  A_SetPitch(Pitch-3)
  G2GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G2GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G2GO P 1 a_refire("emptylamp")
  G2GO Q 1 A_SetPitch(Pitch+1) 
  G2GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelampreal")
  G2GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelampreal")
  G2GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G2GG B 0 A_refire("firelampreal")
  goto ready
empty:
  G2GG B 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
  G2GG B 0  a_refire("empty")
  goto ready
emptylamp:
  G2GO P 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
   G2GO A 0  a_refire("fire")
  goto ready
  Reload:
        TNT1 A 0 a_JumpIfInventory("lightlit",1,"ReloadLamp")
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Workempty")
		G2GG A 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",30,"Ready")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Work1")
        Goto Ready
 Reloadlamp:
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"chamberlamp")
		G2GO L 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",30,"Readylamp")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"droplamp")
        Goto Ready
droplamp:
        G2GO I 1 a_playsound("weapons/lampclickoff")
	    G2GO H 2 a_light0
	    G2GO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    G2GO FEDCBA 1 A_takeinventory("lightlit",1)
		G2GR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G2GR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)	
goto reloadloop
chamberlamp:
        G2GO I 1 a_playsound("weapons/lampclickoff")
	    G2GO H 2 a_light0
	    G2GO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    G2GO FEDCBA 1 A_takeinventory("lightlit",1)
		G2GE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G2GE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Work1:
	    G2GR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G2GR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)		
	ReloadLoop:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",30,"ReloadDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"Reloadloop")
        Goto ReloadDone
    Workempty:
	    G2GE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G2GE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Loopempty:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",30,"emptyDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"loopempty")
        Goto emptyDone
	ReloadDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagIn", CHAN_ITEM)
		G2GR LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR MMQRST 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	EmptyDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagin", CHAN_ITEM)
		G2GE LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GE MMQRS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR UVW 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 0 A_PlaySound("weapons/GreaserCock", CHAN_ITEM)
		G2GR WXYZ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G2GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	   Altfire:
         TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"AltFireReal")
         Goto Reload
       AltfireReal:
        G2GS ABC 2  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G2GS C 1 A_REfire("altfire1")
		G2GS CBA 2 A_weaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	  Altfire1:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        G2GS A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,0,0)
        TNT1 A 0 A_FireBullets(1,1,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G2GS D 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G2GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G2GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        G2GS A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        G2GS A 0 A_checkreload
        G2GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GS B 0 A_refire("altfire2")
        G2GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire2:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G2GS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G2GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G2GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G2GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GG B 0 A_refire("altfire3")
        G2GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire3:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1.5,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G2GS F 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G2GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G2GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G2GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GG B 0 A_refire("altfire4")
        G2GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	 Altfire4:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1.5,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G2GS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G2GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G2GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G2GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G2GG B 0 A_refire("altfire1")
        G2GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	emptyAlt:
        G2GS G 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        G2GG A 0  a_refire("emptyAlt")
		G2GS GKJ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        goto ready
	Zoom:
	TNT1 A 0 a_JumpIfInventory("lightlit",1,"unlight")
	G2GO A 2 
	G2GO BCD 2 
	G2GO E 2 a_playsound("weapons/revolverup")
	G2GO F 2 A_giveinventory("lightlit",1) 
	G2GO GHI 1 a_playsound("weapons/lampclickon")
    goto readylamp
	unlight:
	G2GO I 1 a_playsound("weapons/lampclickoff")
	G2GO HG 2 a_light0
	G2GO F 2 a_playsound("weapons/revolverup")
	G2GO EDCB 1 
	G2GO A 1 A_takeinventory("lightlit",1)
    goto loadedready
	User1:
	    TNT1 A 0 a_JumpIfInventory("lightlit",1,"AltUser1")
	    G2GR NOP 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G2GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	AltUser1:
	    G2GO STUV 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G2GO VUTS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
 lampFlash:
        TNT1 A 0
		stop
 Spawn:
        GRGN A 10
		GRGN A 1 bright
		loop
}}
 actor Greaser3: Greaser
{
 Inventory.Pickupmessage "Got the Great Greasy Greaser!"
 Tag "Great Greasy Greaser"
 Obituary "%o was executed by %k."
 Inventory.Icon "MPI2A0"
 scale 0.6
 +CHEATNOTWEAPON
  States
 {
 Ready:
  TNT1 A 0 a_JumpIfInventory("lightlit",1,"Readylamp")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"LoadedReady")
  G3GG B 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 LoadedReady:
  G3GG A 1 A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWUSER1|WRF_ALLOWZOOM)
  Loop
 ReadyLamp:
     G3GG I 0 a_JumpIfInventory("GreaserLoaded",1,"readylamploaded")
     G3GG I 0 a_JumpIfInventory("batteries",1,2)
	 G3GG I 0 a_jump(256,"Unlight")
	 G3GG I 0 a_light2
     G3GG J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G3GG L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G3GG K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 ReadyLampLoaded:
     G3GG I 0 a_JumpIfInventory("batteries",1,2)
	 G3GG I 0 a_jump(256,"Unlight")
	 G3GG I 0 a_light2
     G3GO J 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G3GO K 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     G3GO L 1 BRIGHT A_WeaponReady(WRF_ALLOWRELOAD|WRF_ALLOWZOOM|WRF_ALLOWUSER1)
     loop
 Deselect:
  "----" A 0 A_LIGHT0
  "----" A 0 A_takeinventory("Lightlit",1)
  "----" A 0 A_lower
  "----" A 1 A_Lower
  loop
 Select:
   TNT1 A 0 A_takeInventory("flashlit")
   TNT1 A 0 A_takeInventory("greaser2")
   TNT1 A 0 A_takeInventory("greaser")
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"Loadedselect")
  G3GG B 1 A_Raise
  G3GG B 0 A_Raise
  Loop
 LoadedSelect:
  G3GG A 1 A_Raise
  G3GG A 0 A_Raise
  Loop
 Fire:
   TNT1 A 0 a_JumpIfInventory("lightlit",1,"FireLamp")
   TNT1 A 0 a_JumpIfInventory("Greaserloaded",1,"FireReal")
   Goto Reload
  Firelamp:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"FireLampReal")
  Goto Reload
 Firereal:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  G3GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GF A 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GF A 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G3GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  G3GG B 1 a_refire("empty")
  G3GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G3GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire2")
  G3GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire2")
  G3GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire2")
  goto ready
 Fire2:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GF B 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GF B 0 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G3GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GG B 1  A_PlaySound("weapons/Ingramdry", CHAN_ITEM)
  G3GG B 1 a_refire("empty")
  G3GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G3GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire3")
  G3GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire3")
  G3GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("fire3")
  goto ready
 Fire3:
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
  Goto empty
  TNT1 A 0 A_FireBullets(1,1,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GF C 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GF C 1 BRIGHT  A_SetPitch(Pitch-1)
  TNT1 A 0 A_Light1
  G3GF A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GG B 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G3GG B 1 a_refire("empty")
  G3GG C 1 A_SetPitch(Pitch+0.4) 
  TNT1 A 0 A_Light0
  G3GG B 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firereal")
  G3GG C 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firereal")
  G3GG D 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firereal")
  goto ready
  Firelampreal:
  GLKL A 0 A_gunflash("lampFlash")
  G3GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1,2,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GO M 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GO M 1 BRIGHT  A_SetPitch(Pitch-3)
  G3GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G3GO P 1 a_refire("emptylamp")
  G3GO Q 1 A_SetPitch(Pitch+1) 
  G3GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp2")
  G3GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp2")
  G3GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp2")
  goto ready
   Firelamp2:
  GLKL A 0 A_gunflash("lampFlash")
  G3GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(1.5,1.5,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GO N 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GO N 1 BRIGHT  A_SetPitch(Pitch-3)
  G3GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G3GO P 1 a_refire("emptylamp")
  G3GO Q 1 A_SetPitch(Pitch+1) 
  G3GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp3")
  G3GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp3")
  G3GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelamp3")
  goto ready
   Firelamp3:
  GLKL A 0 A_gunflash("lampFlash")
  G3GG A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,8,0)
  TNT1 A 0 A_FireBullets(2,2,-1,20,"hitpuff",1)
  TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
  G3GO O 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  SW5G A 0 A_PlaySound("Distant/pistol",CHAN_BODY)
  TNT1 A 0 A_Light2
  G3GO O 1 BRIGHT  A_SetPitch(Pitch-3)
  G3GO A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,15,0)
  TNT1 A 0 A_AlertMonsters
  TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,3)
  G3GO P 1  A_PlaySound("weapons/IngRamdry", CHAN_ITEM)
  G3GO P 1 a_refire("emptylamp")
  G3GO Q 1 A_SetPitch(Pitch+1) 
  G3GO Q 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelampreal")
  G3GO R 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelampreal")
  G3GO L 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  G3GG B 0 A_refire("firelampreal")
  goto ready
empty:
  G3GG B 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
  G3GG B 0  a_refire("empty")
  goto ready
emptylamp:
  G3GO P 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
   G3GO A 0  a_refire("fire")
  goto ready
  Reload:
        TNT1 A 0 a_JumpIfInventory("lightlit",1,"ReloadLamp")
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Workempty")
		G3GG A 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",48,"Ready")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"Work1")
        Goto Ready
 Reloadlamp:
        TNT1 A 0 A_JumpIfInventory("GreaserLoaded",1,2)
		TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"chamberlamp")
		G3GO L 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_JumpIfInventory("GreaserLoaded",48,"Readylamp")
        TNT1 A 0 A_JumpIfInventory("fortyfiveammo",1,"droplamp")
        Goto Ready
droplamp:
        G3GO I 1 a_playsound("weapons/lampclickoff")
	    G3GO H 2 a_light0
	    G3GO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    G3GO FEDCBA 1 A_takeinventory("lightlit",1)
		G3GR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G3GR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)	
goto reloadloop
chamberlamp:
        G3GO I 1 a_playsound("weapons/lampclickoff")
	    G3GO H 2 a_light0
	    G3GO G 2 A_PlaySound("weapons/pistolclipout", CHAN_ITEM)
	    G3GO FEDCBA 1 A_takeinventory("lightlit",1)
		G3GE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G3GE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Work1:
	    G3GR NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G3GR ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)		
	ReloadLoop:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",48,"ReloadDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"Reloadloop")
        Goto ReloadDone
    Workempty:
	    G3GE NOP 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 3 A_PlaySound("weapons/GreaserMagout", CHAN_ITEM)
		G3GE ABCDEFGHIII 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GE IJK 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		goto Loopempty
	Loopempty:
		TNT1 A 0 a_JumpIfInventory("Greaserloaded",48,"emptyDone")
		TNT1 A 0 A_TakeInventory("fortyfiveammo",1,TIF_NOTAKEINFINITE)
		TNT1 A 0 A_Giveinventory("Greaserloaded",1)
		TNT1 A 0 a_JumpIfInventory("fortyfiveammo",1,"loopempty")
        Goto emptyDone
	ReloadDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagIn", CHAN_ITEM)
		G3GR LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR MMQRST 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	EmptyDone:
		TNT1 A 0 A_PlaySound("weapons/GreaserMagin", CHAN_ITEM)
		G3GE LLL 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GE MMQRS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR UVW 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		TNT1 A 0 A_PlaySound("weapons/GreaserCock", CHAN_ITEM)
		G3GR WXYZ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		G3GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
		Goto Ready
	   Altfire:
         TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,"AltFireReal")
         Goto Reload
       AltfireReal:
        G3GS ABC 2  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G3GS C 1 A_REfire("altfire1")
		G3GS CBA 2 A_weaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	  Altfire1:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        G3GS A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,0,0)
        TNT1 A 0 A_FireBullets(1,1,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G3GS D 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G3GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G3GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        G3GS A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        G3GS A 0 A_checkreload
        G3GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GS B 0 A_refire("altfire2")
        G3GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire2:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G3GS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G3GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G3GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G3GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GG B 0 A_refire("altfire3")
        G3GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	  Altfire3:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1.5,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G3GS F 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G3GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G3GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G3GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GG B 0 A_refire("altfire4")
        G3GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	 Altfire4:
        TNT1 A 0 a_JumpIfInventory("GreaserLoaded",1,1)
        Goto emptyAlt
        TNT1 A 0 A_FireBullets(1,1.5,-1,25,"hitpuff",FBF_NORANDOM)
		TNT1 A 0 A_TakeInventory("GreaserLoaded",1,TIF_NOTAKEINFINITE)
        TNT1 A 0 A_PlaySound("weapons/Greaserfire", CHAN_WEAPON)
        G3GS E 1 BRIGHT A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        TNT1 A 0 A_Light2
        G3GS A 0 BRIGHT  A_SetPitch(Pitch-1)
        TNT1 A 0 A_Light1
        G3GS G 1 A_SetPitch(Pitch+0.4) 
        TNT1 A 0 A_Light0
        CHGG A 0 A_FireCustomMissile("pistolCasingSpawner",-10,0,0,0)
        TNT1 A 0 A_AlertMonsters
        SHTG A 0 A_checkreload
        G3GS H 3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GS I 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        G3GG B 0 A_refire("altfire1")
        G3GS CBA 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        goto ready
	emptyAlt:
        G3GS G 1  A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        G3GG A 0  a_refire("emptyAlt")
		G3GS GKJ 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWUSER1)
        goto ready
	Zoom:
	TNT1 A 0 a_JumpIfInventory("lightlit",1,"unlight")
	G3GO A 2 
	G3GO BCD 2 
	G3GO E 2 a_playsound("weapons/revolverup")
	G3GO F 2 A_giveinventory("lightlit",1) 
	G3GO GHI 1 a_playsound("weapons/lampclickon")
    goto readylamp
	unlight:
	G3GO I 1 a_playsound("weapons/lampclickoff")
	G3GO HG 2 a_light0
	G3GO F 2 a_playsound("weapons/revolverup")
	G3GO EDCB 1 
	G3GO A 1 A_takeinventory("lightlit",1)
    goto loadedready
	User1:
	    TNT1 A 0 a_JumpIfInventory("lightlit",1,"AltUser1")
	    G3GR NOP 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G3GR PON 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
	AltUser1:
	    G3GO STUV 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A    3 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
        KNIF ABCD 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
  	    TNT1 A 0 A_CustomPunch(random(5, 10) * 5, TRUE, 0, "knifePuff", 80)
	    KNIF EFG 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 10 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		G3GO VUTS 2 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		goto ready
 lampFlash:
        TNT1 A 0
		stop
 Spawn:
        GRGN A 10
		GRGN A 1 bright
		loop
}}